create table departamento (
	id_departamento int primary key identity(1,1),
	nombre nvarchar(50) not null
);

create table provincia (
	id_provincia int primary key identity(1,1),
	nombre nvarchar(50) not null,
	id_departamento int not null,
	foreign key (id_departamento) references departamento(id_departamento)
);

create table distrito (
	id_distrito int primary key identity(1,1),
	nombre nvarchar(50) not null,
	id_provincia int not null,
	foreign key (id_provincia) references provincia(id_provincia)
);

create table sede (
	id_sede int primary key identity(1,1),
	nombre nvarchar(100) not null,
	direccion nvarchar(200) not null,
	id_distrito int not null,
	foreign key (id_distrito) references distrito(id_distrito)
);

create table campus (
	id_campus int primary key identity(1,1),
	nombre nvarchar(100) not null,
	id_sede int not null,
	foreign key (id_sede) references sede(id_sede)
);

create table facultad (
	id_facultad int primary key identity(1,1),
	nombre nvarchar(100) not null
);

create table carrera (
	id_carrera int primary key identity(1,1),
	nombre nvarchar(100) not null,
	id_facultad int not null,
	foreign key (id_facultad) references facultad(id_facultad)
);

create table semestre (
	id_semestre int primary key identity(1,1),
	denominacion nvarchar(50) not null,
	fecha_inicio date not null,
	fecha_fin date not null
);

create table alumno (
	id_alumno int primary key identity(1,1),
	nombre nvarchar(50) not null,
	apellido nvarchar(50) not null,
	dni char(8) not null,
	correo nvarchar(50) null,
	telefono nvarchar(9) null,
	id_distrito int not null,
	id_carrera int not null,  -- Añadir columna id_carrera
	id_campus int not null,   -- Añadir columna id_campus
	foreign key (id_distrito) references distrito(id_distrito),
	foreign key (id_carrera) references carrera(id_carrera),
	foreign key (id_campus) references campus(id_campus)
);

create table matricula (
	id_matricula int primary key identity(1,1),
	fecha_matricula date not null,
	vigencia char(1) not null,
	id_semestre int,
	id_distrito int not null,
	id_carrera int not null,
	id_campus int not null,
	foreign key (id_semestre) references semestre(id_semestre),
	foreign key (id_distrito) references distrito(id_distrito),
	foreign key (id_carrera) references carrera(id_carrera),
	foreign key (id_campus) references campus(id_campus),
	foreign key (id_matricula) references alumno(id_alumno)
);

create table grupo (
	id_grupo int primary key identity(1,1),
	denominacion nvarchar(50),
	matriculados int not null
);

create table detalle_matricula (
	matricula_id int not null,
	grupo_id int not null,
	nota int null,
	primary key(matricula_id, grupo_id),
	foreign key (grupo_id) references grupo(id_grupo),
	foreign key (matricula_id) references matricula(id_matricula)
);

create table curso (
	id_curso int primary key identity(1,1),
	nombre nvarchar(50) not null,
	descripcion nvarchar(100) null
);

create table detalle_grupo_curso (
	id_grupo int not null,
	id_curso int not null,
	primary key (id_grupo, id_curso),
	foreign key (id_grupo) references grupo(id_grupo),
	foreign key (id_curso) references curso(id_curso)
);

create table docente (
	id_docente int primary key identity(1,1),
	nombre nvarchar(50) not null,
	apellido nvarchar(50) not null,
	dni char(8) not null,
	correo nvarchar(50) null,
	telefono nvarchar(9) null
);

create table detalle_docente_curso (
	id_docente int not null,
	id_curso int not null,
	primary key(id_docente, id_curso),
	foreign key (id_docente) references docente(id_docente),
	foreign key (id_curso) references curso(id_curso)
);



	--INSERT INTO--



/*INSERT INTO departamento (nombre)
VALUES  ('Lima'),
    ('Piura'),
    ('Pasco'),
    ('Moquegua'),
    ('Madre de Dios'),
    ('Loreto'),
    ('Lambayeque'),
    ('La Libertad'),
    ('Junin'),
    ('Ica'),
    ('Huanuco'),
    ('Huancavelica'),
    ('Cusco'),
    ('Callao'),
    ('Cajamarca'),
    ('Ayacucho'),
    ('Arequipa'),
    ('Apurimac'),
    ('Ancash'),
    ('Amazonas');*/
-------------------------------------------------------------------------------
/*INSERT INTO provincia (nombre, id_departamento)
VALUES 
    ('Chiclayo', 1),
    ('Trujillo', 2),
    ('Huamanga', 3),
    ('Maynas', 4),
    ('Cañete', 5),
    ('Pisco', 6),
    ('Huaraz', 7),
    ('Cajamarca', 8),
    ('Cusco', 9),
    ('Huancayo', 10),
    ('Chachapoyas', 11),
    ('Sullana', 12),
    ('Tarma', 13),
    ('Moquegua', 14),
    ('Tumbes', 15),
    ('Jaen', 16),
    ('Bagua', 17),
    ('Ilo', 18),
    ('Puerto Maldonado', 19),
    ('Puno', 20);*/

------------------------------------------------------------------

INSERT INTO distrito (nombre, id_provincia) 
VALUES 
    ('Cercado de Lima', 2),
    ('La Esperanza', 3),
    ('San Juan Bautista', 4),
    ('Punchana', 5),
    ('San Vicente de Cañete', 6),
    ('Paracas', 7),
    ('Independencia', 8),
    ('Baños del Inca', 9),
    ('San Sebastián',10),
    ('El Tambo', 11),
    ('Levanto', 12),
    ('Bellavista', 13),
    ('Acobamba', 14),
    ('Torata', 15),
    ('Corrales', 16),
    ('Las Pirias', 17),
    ('Copallín', 18),
    ('Pacocha', 19),
    ('Tambopata', 20),
    ('San Román', 21);


